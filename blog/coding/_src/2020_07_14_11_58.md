# Code Highlighting Test

Code syntax highlighting for this site is powered by [pymdown-extensions](https://facelessuser.github.io/pymdown-extensions/), which basically works in a local deploying manner.  

The light mode color scheme used is a contrast enhanced version of Sublime's "Breakers", while the dark mode color scheme used is "Monokai". Light and dark themes synchronize with your device system settings (only tested on Windows 10 PC and iOS13).  

## Demonstrations

### Python3

```python
"""
docstring
"""
from bar import foo
import bar2 as b2

class myClass1(object):
    """
    class docstring
    """
    def __init__(self, var1, var2=1, var3=2):
        """Initialize"""
        self.var1 = var1
        self.var2 = var2
        # random hash comment
        self.var3 = var3

    def classMethod1(self):
        """
        Returns self.var2 + 1
        """
        return self.var2 + 1

    @property
    def Var3(self):
        """
        get self.var3
        """
        return self.var3

def myFun(a: str, b: int = 1):
    for i in range(len(a)):
        a += str(b)
    return a

if __name__ == "__main__":
    mc = myClass1(1, 2)
    b = mc.classMethod1()
    a = myFun('Hello', mc.Var3 + b)
    print(a)
    print("Forget to test a float", 1.23)
    print("and formated {}".format("string"))
    print(f"and formated {2333}")
    print("and %s like %s" % ("something", "this"))
```

### Bash

```bash
V1=Hello
V2=World
echo $V1' '$V2 > a
mv a b
grep -n "Hello" b | less
awk '{print $2}' b
ls -hst ./
rm -rf / # DON'T REALLY RUN THIS
```

This extension is actually using [Pygments](https://pygments.org/) implementation, which is much better than Google's [code-prettify](https://github.com/googlearchive/code-prettify) that I adopted previously. However, none of these beats Sublime's highlighting strategy, in terms of syntax detection. For the final outcome, I made the colors as close to real Sublime themes as possible, but how the code elements are identified still differs. For example, "keyword arguments" for Python3 is not highlighted as something special, and shell script got almost nothing highlighted as you can see.  

Therefore, the next challenge for me is definitely to got this fulfilled.  

(Will be updated for other languages if needed.)  

## Python Markdown Module with Code Syntax Highlighting

First I would like to clarify that, due to the method I implemented this blog site, an almost fully DIY way, this might be hard to work for other deployment tool users.  

Dependencies needed can be installed with the following command. I tried a few of other alternatives and found these ones most match my expectations.  

```bash
pip install markdown pymdown-extensions Pygments
```

In Python3 deployment code:  

```python
import markdown

# Here I only list the extension needed for syntax highlighting
# Other extensions may also be necessary for other Markdown-to-HTML 
# features, such as inserting an "id" attribute to header elements. 
EXT = ['pymdownx.superfences']

def md_to_HTML(filename):
    '''
    Reads a Markdown file directly and returns HTML text
    '''
    with open(filename, 'r') as f:
        raw_MD_text = f.read()
    f.close()
    html = markdown.markdown(raw_MD_text, extensions=EXT)
    return html

if __name__ == '__main__':
    HTML = md_to_HTML('my_post.md')
    # And then you will insert this HTML element into a template document. 
    # BeautifulSoup4 is recommended. 
```